 /*
 * # Fomantic UI - 2.8.4
 * https://github.com/fomantic/Fomantic-UI
 * http://fomantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,o,t){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(n){var o,r=e(this),a=r.selector||"",i=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var s,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),p=m.selector,f=m.className,h=m.sources,b=m.error,g=m.metadata,v=m.namespace,y=m.templates,w="."+v,P="module-"+v,C=e(this),D=(C.find(p.placeholder),C.find(p.icon),C.find(p.embed)),E=this,U=C.data(P);s={initialize:function(){s.debug("Initializing embed"),s.determine.autoplay(),s.create(),s.bind.events(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),U=s,C.data(P,s)},destroy:function(){s.verbose("Destroying previous instance of embed"),s.reset(),C.removeData(P).off(w)},refresh:function(){s.verbose("Refreshing selector cache"),C.find(p.placeholder),C.find(p.icon),D=C.find(p.embed)},bind:{events:function(){s.has.placeholder()&&(s.debug("Adding placeholder events"),C.on("click"+w,p.placeholder,s.createAndShow).on("click"+w,p.icon,s.createAndShow))}},create:function(){s.get.placeholder()?s.createPlaceholder():s.createAndShow()},createPlaceholder:function(e){var n=s.get.icon(),o=s.get.url();s.generate.embed(o);e=e||s.get.placeholder(),C.html(y.placeholder(e,n)),s.debug("Creating placeholder for embed",e,n)},createEmbed:function(n){s.refresh(),n=n||s.get.url(),D=e("<div/>").addClass(f.embed).html(s.generate.embed(n)).appendTo(C),m.onCreate.call(E,n),s.debug("Creating embed object",D)},changeEmbed:function(e){D.html(s.generate.embed(e))},createAndShow:function(){s.createEmbed(),s.show()},change:function(e,n,o){s.debug("Changing video to ",e,n,o),C.data(g.source,e).data(g.id,n),o?C.data(g.url,o):C.removeData(g.url),s.has.embed()?s.changeEmbed():s.create()},reset:function(){s.debug("Clearing embed and showing placeholder"),s.remove.data(),s.remove.active(),s.remove.embed(),s.showPlaceholder(),m.onReset.call(E)},show:function(){s.debug("Showing embed"),s.set.active(),m.onDisplay.call(E)},hide:function(){s.debug("Hiding embed"),s.showPlaceholder()},showPlaceholder:function(){s.debug("Showing placeholder image"),s.remove.active(),m.onPlaceholderDisplay.call(E)},get:{id:function(){return m.id||C.data(g.id)},placeholder:function(){return m.placeholder||C.data(g.placeholder)},icon:function(){return m.icon?m.icon:C.data(g.icon)!==t?C.data(g.icon):s.determine.icon()},source:function(e){return m.source?m.source:C.data(g.source)!==t?C.data(g.source):s.determine.source()},type:function(){var e=s.get.source();return h[e]!==t&&h[e].type},url:function(){return m.url?m.url:C.data(g.url)!==t?C.data(g.url):s.determine.url()}},determine:{autoplay:function(){s.should.autoplay()&&(m.autoplay=!0)},source:function(n){var o=!1;return(n=n||s.get.url())&&e.each(h,function(e,t){if(-1!==n.search(t.domain))return o=e,!1}),o},icon:function(){var e=s.get.source();return h[e]!==t&&h[e].icon},url:function(){var e,n=m.id||C.data(g.id),o=m.source||C.data(g.source);return(e=h[o]!==t&&h[o].url.replace("{id}",n))&&C.data(g.url,e),e}},set:{active:function(){C.addClass(f.active)}},remove:{data:function(){C.removeData(g.id).removeData(g.icon).removeData(g.placeholder).removeData(g.source).removeData(g.url)},active:function(){C.removeClass(f.active)},embed:function(){D.empty()}},encode:{parameters:function(e){var n,o=[];for(n in e)o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.join("&amp;")}},generate:{embed:function(e){s.debug("Generating embed html");var n,o,t=s.get.source();return(e=s.get.url(e))?(o=s.generate.parameters(t),n=y.iframe(e,o)):s.error(b.noURL,C),n},parameters:function(n,o){var r=h[n]&&h[n].parameters!==t?h[n].parameters(m):{};return(o=o||m.parameters)&&(r=e.extend({},r,o)),r=m.onEmbed(r),s.encode.parameters(r)}},has:{embed:function(){return D.length>0},placeholder:function(){return m.placeholder||C.data(g.placeholder)}},should:{autoplay:function(){return"auto"===m.autoplay?m.placeholder||C.data(g.placeholder)!==t:m.autoplay}},is:{video:function(){return"video"==s.get.type()}},setting:function(n,o){if(s.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,m,n);else{if(o===t)return m[n];e.isPlainObject(m[n])?e.extend(!0,m[n],o):m[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,s,n);else{if(o===t)return s[n];s[n]=o}},debug:function(){!m.silent&&m.debug&&(m.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,m.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),s.verbose.apply(console,arguments)))},error:function(){m.silent||(s.error=Function.prototype.bind.call(console.error,console,m.name+":"),s.error.apply(console,arguments))},performance:{log:function(e){var n,o;m.performance&&(o=(n=(new Date).getTime())-(i||n),i=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":o})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var n=m.name+":",o=0;i=!1,clearTimeout(s.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",a&&(n+=" '"+a+"'"),r.length>1&&(n+=" ("+r.length+")"),(console.group!==t||console.table!==t)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,r,a){var i,c,l,d=U;return r=r||u,a=E||a,"string"==typeof n&&d!==t&&(n=n.split(/[\. ]/),i=n.length-1,e.each(n,function(o,r){var a=o!=i?r+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(d[a])&&o!=i)d=d[a];else{if(d[a]!==t)return c=d[a],!1;if(!e.isPlainObject(d[r])||o==i)return d[r]!==t?(c=d[r],!1):(s.error(b.method,n),!1);d=d[r]}})),e.isFunction(c)?l=c.apply(a,r):c!==t&&(l=c),Array.isArray(o)?o.push(l):o!==t?o=[o,l]:l!==t&&(o=l),c}},d?(U===t&&s.initialize(),s.invoke(l)):(U!==t&&U.invoke("destroy"),s.initialize())}),o!==t?o:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||t,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||t,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,n){var o=e;return n&&(o+="?"+n),'<iframe src="'+o+'" width="100%" height="100%" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,n){var o="";return n&&(o+='<i class="'+n+' icon"></i>'),e&&(o+='<img class="placeholder" src="'+e+'">'),o}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document);