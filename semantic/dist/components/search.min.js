 /*
 * # Fomantic UI - 2.8.4
 * https://github.com/fomantic/Fomantic-UI
 * http://fomantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,s,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(n){var i,r=e(this),a=r.selector||"",o=(new Date).getTime(),c=[],u=arguments[0],l="string"==typeof u,d=[].slice.call(arguments,1);return e(this).each(function(){var f,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.search.settings,n):e.extend({},e.fn.search.settings),v=g.className,h=g.metadata,p=g.regExp,m=g.fields,y=g.selector,b=g.error,R=g.namespace,x="."+R,C=R+"-module",w=e(this),S=w.find(y.prompt),F=w.find(y.searchButton),T=w.find(y.results),j=w.find(y.result),A=(w.find(y.category),this),k=w.data(C),q=!1,D=!1;f={initialize:function(){f.verbose("Initializing module"),f.get.settings(),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),k=f,w.data(C,f)},destroy:function(){f.verbose("Destroying instance"),w.off(x).removeData(C)},refresh:function(){f.debug("Refreshing selector cache"),S=w.find(y.prompt),F=w.find(y.searchButton),w.find(y.category),T=w.find(y.results),j=w.find(y.result)},refreshResults:function(){T=w.find(y.results),j=w.find(y.result)},bind:{events:function(){f.verbose("Binding events to search"),g.automatic&&(w.on(f.get.inputEvent()+x,y.prompt,f.event.input),S.attr("autocomplete","off")),w.on("focus"+x,y.prompt,f.event.focus).on("blur"+x,y.prompt,f.event.blur).on("keydown"+x,y.prompt,f.handleKeyboard).on("click"+x,y.searchButton,f.query).on("mousedown"+x,y.results,f.event.result.mousedown).on("mouseup"+x,y.results,f.event.result.mouseup).on("click"+x,y.result,f.event.result.click)}},determine:{searchFields:function(){n&&void 0!==n.searchFields&&(g.searchFields=n.searchFields)}},event:{input:function(){g.searchDelay?(clearTimeout(f.timer),f.timer=setTimeout(function(){f.is.focused()&&f.query()},g.searchDelay)):f.query()},focus:function(){f.set.focus(),g.searchOnFocus&&f.has.minimumCharacters()&&f.query(function(){f.can.show()&&f.showResults()})},blur:function(e){var t=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,g.hideDelay)};s.activeElement===this||(D=!1,f.resultsClicked?(f.debug("Determining if user action caused search to close"),w.one("click.close"+x,y.results,function(e){f.is.inMessage(e)||q?S.focus():(q=!1,f.is.animating()||f.is.hidden()||t())})):(f.debug("Input blurred without user action, closing results"),t()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(s){f.debug("Search result selected");var n=e(this),i=n.find(y.title).eq(0),r=n.is("a[href]")?n:n.find("a[href]").eq(0),a=r.attr("href")||!1,o=r.attr("target")||!1,c=i.length>0&&i.text(),u=f.get.results(),l=n.data(h.result)||f.get.result(c,u);if(c&&f.set.value(c),e.isFunction(g.onSelect)&&!1===g.onSelect.call(A,l,u))return f.debug("Custom onSelect callback cancelled default select action"),void(q=!0);f.hideResults(),a&&(f.verbose("Opening search link found in result",r),"_blank"==o||s.ctrlKey?t.open(a):t.location.href=a)}}},handleKeyboard:function(e){var t,s=w.find(y.result),n=w.find(y.category),i=s.filter("."+v.active),r=s.index(i),a=s.length,o=i.length>0,c=e.which,u=13,l=38,d=40;if(c==27&&(f.verbose("Escape key pressed, blurring search field"),f.hideResults(),D=!0),f.is.visible())if(c==u){if(f.verbose("Enter key pressed, selecting active result"),s.filter("."+v.active).length>0)return f.event.result.click.call(s.filter("."+v.active),e),e.preventDefault(),!1}else c==l&&o?(f.verbose("Up key pressed, changing active result"),t=r-1<0?r:r-1,n.removeClass(v.active),s.removeClass(v.active).eq(t).addClass(v.active).closest(n).addClass(v.active),e.preventDefault()):c==d&&(f.verbose("Down key pressed, changing active result"),t=r+1>=a?r:r+1,n.removeClass(v.active),s.removeClass(v.active).eq(t).addClass(v.active).closest(n).addClass(v.active),e.preventDefault());else c==u&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),S.one("keyup",f.remove.buttonFocus))},setup:{api:function(t,s){var n={debug:g.debug,on:!1,cache:g.cache,action:"search",urlData:{query:t},onSuccess:function(e){f.parse.response.call(A,e,t),s()},onFailure:function(){f.displayMessage(b.serverError),s()},onAbort:function(e){},onError:f.error};e.extend(!0,n,g.apiSettings),f.verbose("Setting up API request",n),w.api(n)}},can:{useAPI:function(){return void 0!==e.fn.api},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return g.transition&&void 0!==e.fn.transition&&w.transition("is supported")}},is:{animating:function(){return T.hasClass(v.animating)},hidden:function(){return T.hasClass(v.hidden)},inMessage:function(t){if(t.target){var n=e(t.target);return e.contains(s.documentElement,t.target)&&n.closest(y.message).length>0}},empty:function(){return""===T.html()},visible:function(){return T.filter(":visible").length>0},focused:function(){return S.filter(":focus").length>0}},get:{settings:function(){e.isPlainObject(n)&&n.searchFullText&&(g.fullTextSearch=n.searchFullText,f.error(g.error.oldSearchSyntax,A)),g.ignoreDiacritics&&!String.prototype.normalize&&(g.ignoreDiacritics=!1,f.error(b.noNormalize,A))},inputEvent:function(){var e=S[0];return void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup"},value:function(){return S.val()},results:function(){return w.data(h.results)},result:function(t,s){var n=!1;return t=void 0!==t?t:f.get.value(),s=void 0!==s?s:f.get.results(),"category"===g.type?(f.debug("Finding result that matches",t),e.each(s,function(e,s){if(Array.isArray(s.results)&&(n=f.search.object(t,s.results)[0]))return!1})):(f.debug("Finding result in results object",t),n=f.search.object(t,s)[0]),n||!1}},select:{firstResult:function(){f.verbose("Selecting first result"),j.first().addClass(v.active)}},set:{focus:function(){w.addClass(v.focus)},loading:function(){w.addClass(v.loading)},value:function(e){f.verbose("Setting search input value",e),S.val(e)},type:function(e){e=e||g.type,"category"==g.type&&w.addClass(g.type)},buttonPressed:function(){F.addClass(v.pressed)}},remove:{loading:function(){w.removeClass(v.loading)},focus:function(){w.removeClass(v.focus)},buttonPressed:function(){F.removeClass(v.pressed)},diacritics:function(e){return g.ignoreDiacritics?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}},query:function(t){t=e.isFunction(t)?t:function(){};var s=f.get.value(),n=f.read.cache(s);t=t||function(){},f.has.minimumCharacters()?(n?(f.debug("Reading result from cache",s),f.save.results(n.results),f.addResults(n.html),f.inject.id(n.results),t()):(f.debug("Querying for",s),e.isPlainObject(g.source)||Array.isArray(g.source)?(f.search.local(s),t()):f.can.useAPI()?f.search.remote(s,t):(f.error(b.source),t())),g.onSearchQuery.call(A,s)):f.hideResults()},search:{local:function(e){var t,s=f.search.object(e,g.source);f.set.loading(),f.save.results(s),f.debug("Returned full local search results",s),g.maxResults>0&&(f.debug("Using specified max results",s),s=s.slice(0,g.maxResults)),"category"==g.type&&(s=f.create.categoryResults(s)),t=f.generateResults({results:s}),f.remove.loading(),f.addResults(t),f.inject.id(s),f.write.cache(e,{html:t,results:s})},remote:function(t,s){s=e.isFunction(s)?s:function(){},w.api("is loading")&&w.api("abort"),f.setup.api(t,s),w.api("query")},object:function(t,s,n){var i=[],r=[],a=[],o=(t=f.remove.diacritics(String(t))).replace(p.escape,"\\$&"),c=new RegExp(p.beginsWith+o,"i"),u=function(t,s){var n=-1==e.inArray(s,i),o=-1==e.inArray(s,a),c=-1==e.inArray(s,r);n&&o&&c&&t.push(s)};return s=s||g.source,n=void 0!==n?n:g.searchFields,Array.isArray(n)||(n=[n]),void 0===s||!1===s?(f.error(b.source),[]):(e.each(n,function(n,o){e.each(s,function(e,s){if("string"==typeof s[o]||"number"==typeof s[o]){var n;-1!==(n="string"==typeof s[o]?f.remove.diacritics(s[o]):s[o].toString()).search(c)?u(i,s):"exact"===g.fullTextSearch&&f.exactSearch(t,n)?u(r,s):1==g.fullTextSearch&&f.fuzzySearch(t,n)&&u(a,s)}})}),e.merge(r,a),e.merge(i,r),i)}},exactSearch:function(e,t){return e=e.toLowerCase(),(t=t.toLowerCase()).indexOf(e)>-1},fuzzySearch:function(e,t){var s=t.length,n=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n>s)return!1;if(n===s)return e===t;e:for(var i=0,r=0;i<n;i++){for(var a=e.charCodeAt(i);r<s;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},parse:{response:function(e,t){if(Array.isArray(e)){var s={};s[m.results]=e,e=s}var n=f.generateResults(e);f.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e[m.results]&&(f.addResults(n),f.inject.id(e[m.results]),f.write.cache(t,{html:n,results:e[m.results]}),f.save.results(e[m.results]))}},cancel:{query:function(){f.can.useAPI()&&w.api("abort")}},has:{minimumCharacters:function(){return f.get.value().length>=g.minCharacters},results:function(){if(0===T.length)return!1;return""!=T.html()}},clear:{cache:function(e){var t=w.data(h.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],w.data(h.cache,t)):(f.debug("Clearing cache",e),w.removeData(h.cache))}},read:{cache:function(e){var t=w.data(h.cache);return!!g.cache&&(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&void 0!==t[e]&&t[e])}},create:{categoryResults:function(t){var s={};return e.each(t,function(e,t){t.category&&(void 0===s[t.category]?(f.verbose("Creating new category of results",t.category),s[t.category]={name:t.category,results:[t]}):s[t.category].results.push(t))}),s},id:function(e,t){var s,n=e+1;return void 0!==t?(s=String.fromCharCode(97+t)+n,f.verbose("Creating category result id",s)):(s=n,f.verbose("Creating result id",s)),s},results:function(){0===T.length&&(T=e("<div />").addClass(v.results).appendTo(w))}},inject:{result:function(e,t,s){f.verbose("Injecting result into results");var n=void 0!==s?T.children().eq(s).children(y.results).first().children(y.result).eq(t):T.children(y.result).eq(t);f.verbose("Injecting results metadata",n),n.data(h.result,e)},id:function(t){f.debug("Injecting unique ids into results");var s=0,n=0;return"category"===g.type?e.each(t,function(t,i){i.results.length>0&&(n=0,e.each(i.results,function(e,t){void 0===t.id&&(t.id=f.create.id(n,s)),f.inject.result(t,n,s),n++}),s++)}):e.each(t,function(e,t){void 0===t.id&&(t.id=f.create.id(n)),f.inject.result(t,n),n++}),t}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),w.data(h.results,e)}},write:{cache:function(e,t){var s=void 0!==w.data(h.cache)?w.data(h.cache):{};g.cache&&(f.verbose("Writing generated html to cache",e,t),s[e]=t,w.data(h.cache,s))}},addResults:function(t){if(e.isFunction(g.onResultsAdd)&&!1===g.onResultsAdd.call(T,t))return f.debug("onResultsAdd callback cancelled default action"),!1;t?(T.html(t),f.refreshResults(),g.selectFirstResult&&f.select.firstResult(),f.showResults()):f.hideResults(function(){T.empty()})},showResults:function(t){t=e.isFunction(t)?t:function(){},D||!f.is.visible()&&f.has.results()&&(f.can.transition()?(f.debug("Showing results with css animations"),T.transition({animation:g.transition+" in",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(f.debug("Showing results with javascript"),T.stop().fadeIn(g.duration,g.easing)),g.onResultsOpen.call(T))},hideResults:function(t){t=e.isFunction(t)?t:function(){},f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),T.transition({animation:g.transition+" out",debug:g.debug,verbose:g.verbose,duration:g.duration,onComplete:function(){t()},queue:!0})):(f.debug("Hiding results with javascript"),T.stop().fadeOut(g.duration,g.easing)),g.onResultsClose.call(T))},generateResults:function(t){f.debug("Generating html from response",t);var s=g.templates[g.type],n=e.isPlainObject(t[m.results])&&!e.isEmptyObject(t[m.results]),i=Array.isArray(t[m.results])&&t[m.results].length>0,r="";return n||i?(g.maxResults>0&&(n?"standard"==g.type&&f.error(b.maxResults):t[m.results]=t[m.results].slice(0,g.maxResults)),e.isFunction(s)?r=s(t,m,g.preserveHTML):f.error(b.noTemplate,!1)):g.showNoResults&&(r=f.displayMessage(b.noResults,"empty",b.noResultsHeader)),g.onResults.call(A,t),r},displayMessage:function(e,t,s){return t=t||"standard",f.debug("Displaying message",e,t,s),f.addResults(g.templates.message(e,t,s)),g.templates.message(e,t,s)},setting:function(t,s){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===s)return g[t];g[t]=s}},internal:function(t,s){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===s)return f[t];f[t]=s}},debug:function(){!g.silent&&g.debug&&(g.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,g.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),f.verbose.apply(console,arguments)))},error:function(){g.silent||(f.error=Function.prototype.bind.call(console.error,console,g.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,s;g.performance&&(s=(t=(new Date).getTime())-(o||t),o=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":s})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=g.name+":",s=0;o=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){s+=t["Execution Time"]}),t+=" "+s+"ms",a&&(t+=" '"+a+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,s,n){var r,a,o,c=k;return s=s||d,n=A||n,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(s,n){var i=s!=r?n+t[s+1].charAt(0).toUpperCase()+t[s+1].slice(1):t;if(e.isPlainObject(c[i])&&s!=r)c=c[i];else{if(void 0!==c[i])return a=c[i],!1;if(!e.isPlainObject(c[n])||s==r)return void 0!==c[n]&&(a=c[n],!1);c=c[n]}})),e.isFunction(a)?o=a.apply(n,s):void 0!==a&&(o=a),Array.isArray(i)?i.push(o):void 0!==i?i=[i,o]:void 0!==o&&(i=o),a}},l?(void 0===k&&f.initialize(),f.invoke(u)):(void 0!==k&&k.invoke("destroy"),f.initialize())}),void 0!==i?i:this},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["id","title","description"],displayField:"",fullTextSearch:"exact",ignoreDiacritics:!1,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,preserveHTML:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResultsHeader:"No Results",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",oldSearchSyntax:"searchFullText setting has been renamed fullTextSearch for consistency, please adjust your settings.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined.",noNormalize:'"ignoreDiacritics" setting will be ignored. Browser does not support String().normalize(). You may consider including <https://cdn.jsdelivr.net/npm/unorm@1.4.1/lib/unorm.min.js> as a polyfill.'},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e,t){if(t)return e;var s={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?(e=e.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;")).replace(/[<>"'`]/g,function(e){return s[e]}):e},message:function(e,t,s){var n="";return void 0!==e&&void 0!==t&&(n+='<div class="message '+t+'">',s&&(n+='<div class="header">'+s+"</div>"),n+=' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,s,n){var i="",r=e.fn.search.settings.templates.escape;return void 0!==t[s.categoryResults]&&(e.each(t[s.categoryResults],function(t,a){void 0!==a[s.results]&&a.results.length>0&&(i+='<div class="category">',void 0!==a[s.categoryName]&&(i+='<div class="name">'+r(a[s.categoryName],n)+"</div>"),i+='<div class="results">',e.each(a.results,function(e,t){t[s.url]?i+='<a class="result" href="'+t[s.url].replace(/"/g,"")+'">':i+='<a class="result">',void 0!==t[s.image]&&(i+='<div class="image"> <img src="'+t[s.image].replace(/"/g,"")+'"></div>'),i+='<div class="content">',void 0!==t[s.price]&&(i+='<div class="price">'+r(t[s.price],n)+"</div>"),void 0!==t[s.title]&&(i+='<div class="title">'+r(t[s.title],n)+"</div>"),void 0!==t[s.description]&&(i+='<div class="description">'+r(t[s.description],n)+"</div>"),i+="</div>",i+="</a>"}),i+="</div>",i+="</div>")}),t[s.action]&&(!1===s.actionURL?i+='<div class="action">'+r(t[s.action][s.actionText],n)+"</div>":i+='<a href="'+t[s.action][s.actionURL].replace(/"/g,"")+'" class="action">'+r(t[s.action][s.actionText],n)+"</a>"),i)},standard:function(t,s,n){var i="",r=e.fn.search.settings.templates.escape;return void 0!==t[s.results]&&(e.each(t[s.results],function(e,t){t[s.url]?i+='<a class="result" href="'+t[s.url].replace(/"/g,"")+'">':i+='<a class="result">',void 0!==t[s.image]&&(i+='<div class="image"> <img src="'+t[s.image].replace(/"/g,"")+'"></div>'),i+='<div class="content">',void 0!==t[s.price]&&(i+='<div class="price">'+r(t[s.price],n)+"</div>"),void 0!==t[s.title]&&(i+='<div class="title">'+r(t[s.title],n)+"</div>"),void 0!==t[s.description]&&(i+='<div class="description">'+r(t[s.description],n)+"</div>"),i+="</div>",i+="</a>"}),t[s.action]&&(!1===s.actionURL?i+='<div class="action">'+r(t[s.action][s.actionText],n)+"</div>":i+='<a href="'+t[s.action][s.actionURL].replace(/"/g,"")+'" class="action">'+r(t[s.action][s.actionText],n)+"</a>"),i)}}}}(jQuery,window,document);